import{c as d,o as a,a as s,d as C,r as A,b as o,u as e,t as c,w as g,e as _,f as S,g as M,F as I,h as V,n as U,i as B,j as H,k as j}from"./index-DeSzD2_9.js";import{u as R}from"./transactions-DTEC-O-J.js";import{r as F,a as N,b as P}from"./PaperAirplaneIcon-BtBOIgj7.js";import{r as w}from"./ReceiptPercentIcon-ugYNRPXz.js";import{r as T}from"./ArrowsRightLeftIcon-BMzKj2fu.js";import{r as L}from"./UserIcon-BV0N09Ky.js";import{r as E}from"./ArrowRightIcon-B2_2eJMI.js";import{r as z,a as Z}from"./ArrowUpIcon-BHaZbMgi.js";function q(p,n){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function O(p,n){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function W(p,n){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"})])}const G={class:"wallet-card"},J={class:"flex items-center justify-between mb-6"},K={class:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"},Q={class:"space-y-4"},X={class:"bg-white/10 rounded-lg p-4 backdrop-blur-sm"},Y={class:"text-2xl font-bold text-white"},ss={class:"bg-white/10 rounded-lg p-4 backdrop-blur-sm"},ts={class:"text-2xl font-bold text-white"},es={class:"mt-6 flex space-x-3"},os={class:"mt-4 text-center"},rs={class:"text-white/60 text-xs"},ns=C({__name:"WalletCard",props:{pesos:{},dolares:{},lastUpdate:{default:()=>new Date().toISOString()}},setup(p){const n=p,i=(u,r)=>new Intl.NumberFormat("es-AR",{style:"currency",currency:r,minimumFractionDigits:0,maximumFractionDigits:2}).format(u),v=()=>{const u=new Date(n.lastUpdate),m=Math.floor((new Date().getTime()-u.getTime())/(1e3*60));return m<1?"Hace un momento":m<60?`Hace ${m} min`:m<1440?`Hace ${Math.floor(m/60)}h`:u.toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"})};return(u,r)=>{const m=A("router-link");return a(),d("div",G,[s("div",J,[r[0]||(r[0]=s("div",null,[s("h3",{class:"text-lg font-semibold text-white/90"},"Mi Billetera"),s("p",{class:"text-white/70 text-sm"},"Balance total")],-1)),s("div",K,[o(e(W),{class:"w-6 h-6 text-white"})])]),s("div",Q,[s("div",X,[r[1]||(r[1]=s("div",{class:"flex items-center justify-between mb-2"},[s("span",{class:"text-white/80 text-sm"},"Pesos Argentinos"),s("span",{class:"text-white text-xs"},"ARS")],-1)),s("div",Y,c(i(u.pesos,"ARS")),1)]),s("div",ss,[r[2]||(r[2]=s("div",{class:"flex items-center justify-between mb-2"},[s("span",{class:"text-white/80 text-sm"},"Dólares Estadounidenses"),s("span",{class:"text-white text-xs"},"USD")],-1)),s("div",ts,c(i(u.dolares,"USD")),1)])]),s("div",es,[o(m,{to:"/send-money",class:"flex-1 bg-white/20 hover:bg-white/30 text-white text-center py-2 px-4 rounded-lg transition-colors duration-200 text-sm font-medium"},{default:g(()=>[...r[3]||(r[3]=[_(" Enviar ",-1)])]),_:1}),o(m,{to:"/exchange",class:"flex-1 bg-white/20 hover:bg-white/30 text-white text-center py-2 px-4 rounded-lg transition-colors duration-200 text-sm font-medium"},{default:g(()=>[...r[4]||(r[4]=[_(" Cambiar ",-1)])]),_:1})]),s("div",os,[s("span",rs," Última actualización: "+c(v()),1)])])}}}),as={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},is={class:"mb-8"},ls={class:"text-3xl font-bold text-gray-900 mb-2"},cs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ds={class:"card"},us={class:"flex items-center"},ms={class:"flex-shrink-0"},xs={class:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"},hs={class:"ml-4"},gs={class:"text-2xl font-bold text-gray-900"},ps={class:"card"},fs={class:"flex items-center"},_s={class:"flex-shrink-0"},vs={class:"w-8 h-8 bg-success-100 rounded-lg flex items-center justify-center"},ws={class:"ml-4"},ys={class:"text-2xl font-bold text-gray-900"},bs={class:"card"},ks={class:"flex items-center"},Ds={class:"flex-shrink-0"},$s={class:"w-8 h-8 bg-warning-100 rounded-lg flex items-center justify-center"},js={class:"ml-4"},Ts={class:"text-2xl font-bold text-gray-900"},Cs={class:"card"},As={class:"flex items-center"},Ss={class:"flex-shrink-0"},Ms={class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},Is={class:"ml-4"},Vs={class:"text-2xl font-bold text-gray-900"},Us={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Bs={class:"lg:col-span-1"},Hs={class:"lg:col-span-2"},Rs={class:"card"},Fs={class:"card-header"},Ns={class:"flex items-center justify-between"},Ps={key:0,class:"flex items-center justify-center py-8"},Ls={key:1,class:"text-center py-8"},Es={class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},zs={key:2,class:"space-y-3"},Zs={class:"flex items-center justify-between"},qs={class:"flex items-center space-x-3"},Os={class:"font-medium text-gray-900"},Ws={class:"text-sm text-gray-600"},Gs={class:"text-right"},Js={key:0,class:"text-sm font-medium text-gray-900"},Ks={key:1,class:"text-sm font-medium text-gray-900"},Qs={class:"mt-8"},Xs={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ys={class:"flex items-center space-x-3"},st={class:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center group-hover:bg-primary-200 transition-colors"},tt={class:"flex items-center space-x-3"},et={class:"w-12 h-12 bg-success-100 rounded-lg flex items-center justify-center group-hover:bg-success-200 transition-colors"},ot={class:"flex items-center space-x-3"},rt={class:"w-12 h-12 bg-warning-100 rounded-lg flex items-center justify-center group-hover:bg-warning-200 transition-colors"},nt={class:"flex items-center space-x-3"},at={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors"},it=1e3,pt=C({__name:"DashboardView",setup(p){const n=S(),i=R(),v=()=>{var x,f;const l=((x=n.user)==null?void 0:x.userPesos)||0;return(((f=n.user)==null?void 0:f.userDolares)||0)+l/it},u=(l,t)=>new Intl.NumberFormat("es-AR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(l),r=l=>({1:Z,2:z,3:E,4:T})[l]||w,m=l=>({1:"bg-success-100 text-success-600",2:"bg-danger-100 text-danger-600",3:"bg-primary-100 text-primary-600",4:"bg-warning-100 text-warning-600"})[l]||"bg-gray-100 text-gray-600";return M(()=>{var l;(l=n.user)!=null&&l.userId&&i.fetchTransactions()}),(l,t)=>{var f,y,b,k,D,$;const x=A("router-link");return a(),d("div",as,[s("div",is,[s("h1",ls," ¡Hola, "+c((f=e(n).user)==null?void 0:f.userName)+"! 👋 ",1),t[0]||(t[0]=s("p",{class:"text-gray-600"}," Bienvenido a tu dashboard de Dolarito. Aquí puedes ver tu balance y las últimas transacciones. ",-1))]),s("div",cs,[s("div",ds,[s("div",us,[s("div",ms,[s("div",xs,[o(e(F),{class:"w-5 h-5 text-primary-600"})])]),s("div",hs,[t[1]||(t[1]=s("p",{class:"text-sm font-medium text-gray-600"},"Pesos Argentinos",-1)),s("p",gs,c(u(((y=e(n).user)==null?void 0:y.userPesos)||0,"ARS")),1)])])]),s("div",ps,[s("div",fs,[s("div",_s,[s("div",vs,[o(e(N),{class:"w-5 h-5 text-success-600"})])]),s("div",ws,[t[2]||(t[2]=s("p",{class:"text-sm font-medium text-gray-600"},"Dólares USD",-1)),s("p",ys,c(u(((b=e(n).user)==null?void 0:b.userDolares)||0,"USD")),1)])])]),s("div",bs,[s("div",ks,[s("div",Ds,[s("div",$s,[o(e(q),{class:"w-5 h-5 text-warning-600"})])]),s("div",js,[t[3]||(t[3]=s("p",{class:"text-sm font-medium text-gray-600"},"Total en USD",-1)),s("p",Ts,c(u(v(),"USD")),1)])])]),s("div",Cs,[s("div",As,[s("div",Ss,[s("div",Ms,[o(e(O),{class:"w-5 h-5 text-purple-600"})])]),s("div",Is,[t[4]||(t[4]=s("p",{class:"text-sm font-medium text-gray-600"},"Transacciones",-1)),s("p",Vs,c(e(i).totalTransactions),1)])])])]),s("div",Us,[s("div",Bs,[o(ns,{pesos:((k=e(n).user)==null?void 0:k.userPesos)||0,dolares:((D=e(n).user)==null?void 0:D.userDolares)||0,"last-update":($=e(n).user)==null?void 0:$.userLastUpdate},null,8,["pesos","dolares","last-update"])]),s("div",Hs,[s("div",Rs,[s("div",Fs,[s("div",Ns,[t[6]||(t[6]=s("h2",{class:"text-xl font-semibold text-gray-900"},"Transacciones Recientes",-1)),o(x,{to:"/transactions",class:"text-primary-600 hover:text-primary-700 text-sm font-medium"},{default:g(()=>[...t[5]||(t[5]=[_(" Ver todas ",-1)])]),_:1})])]),e(i).isLoading?(a(),d("div",Ps,[...t[7]||(t[7]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):e(i).recentTransactions.length===0?(a(),d("div",Ls,[s("div",Es,[o(e(w),{class:"w-8 h-8 text-gray-400"})]),t[9]||(t[9]=s("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay transacciones",-1)),t[10]||(t[10]=s("p",{class:"text-gray-600 mb-4"},"Tus transacciones aparecerán aquí",-1)),o(x,{to:"/send-money",class:"btn-primary"},{default:g(()=>[...t[8]||(t[8]=[_(" Realizar primera transacción ",-1)])]),_:1})])):(a(),d("div",zs,[(a(!0),d(I,null,V(e(i).recentTransactions,h=>(a(),d("div",{key:h.transaccionesId,class:"transaction-card"},[s("div",Zs,[s("div",qs,[s("div",{class:U(["w-10 h-10 rounded-full flex items-center justify-center",m(h.transaccionesTipoId)])},[(a(),B(H(r(h.transaccionesTipoId)),{class:"w-5 h-5"}))],2),s("div",null,[s("p",Os,c(e(i).getTransactionTypeName(h.transaccionesTipoId)),1),s("p",Ws,c(e(i).formatDate(h.transaccionesFecha)),1)])]),s("div",Gs,[h.transaccionesPesos!==0?(a(),d("div",Js,c(e(i).formatAmount(h.transaccionesPesos,"pesos")),1)):j("",!0),h.transaccionesDolares!==0?(a(),d("div",Ks,c(e(i).formatAmount(h.transaccionesDolares,"dolares")),1)):j("",!0)])])]))),128))]))])])]),s("div",Qs,[t[15]||(t[15]=s("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Acciones Rápidas",-1)),s("div",Xs,[o(x,{to:"/send-money",class:"card hover:shadow-md transition-shadow duration-200 group cursor-pointer"},{default:g(()=>[s("div",Ys,[s("div",st,[o(e(P),{class:"w-6 h-6 text-primary-600"})]),t[11]||(t[11]=s("div",null,[s("h3",{class:"font-medium text-gray-900"},"Enviar Dinero"),s("p",{class:"text-sm text-gray-600"},"Transferir a otro usuario")],-1))])]),_:1}),o(x,{to:"/exchange",class:"card hover:shadow-md transition-shadow duration-200 group cursor-pointer"},{default:g(()=>[s("div",tt,[s("div",et,[o(e(T),{class:"w-6 h-6 text-success-600"})]),t[12]||(t[12]=s("div",null,[s("h3",{class:"font-medium text-gray-900"},"Cambio de Moneda"),s("p",{class:"text-sm text-gray-600"},"Pesos ↔ Dólares")],-1))])]),_:1}),o(x,{to:"/transactions",class:"card hover:shadow-md transition-shadow duration-200 group cursor-pointer"},{default:g(()=>[s("div",ot,[s("div",rt,[o(e(w),{class:"w-6 h-6 text-warning-600"})]),t[13]||(t[13]=s("div",null,[s("h3",{class:"font-medium text-gray-900"},"Historial"),s("p",{class:"text-sm text-gray-600"},"Ver todas las transacciones")],-1))])]),_:1}),o(x,{to:"/profile",class:"card hover:shadow-md transition-shadow duration-200 group cursor-pointer"},{default:g(()=>[s("div",nt,[s("div",at,[o(e(L),{class:"w-6 h-6 text-purple-600"})]),t[14]||(t[14]=s("div",null,[s("h3",{class:"font-medium text-gray-900"},"Mi Perfil"),s("p",{class:"text-sm text-gray-600"},"Configurar cuenta")],-1))])]),_:1})])])])}}});export{pt as default};
